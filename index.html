<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简单图片压缩工具</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- 顶部标题 -->
        <header class="header">
            <h1>图片压缩工具</h1>
            <p class="subtitle">简单几步完成图片压缩</p>
        </header>

        <!-- 主要内容区 -->
        <main class="main">
            <!-- 上传卡片 -->
            <section class="card upload-card" id="uploadCard">
                <div class="card-content">
                    <input type="file" id="fileInput" accept="image/*" hidden>
                    <!-- 完整上传区域 -->
                    <div class="upload-area full" id="fullUploadArea">
                        <div class="upload-icon"></div>
                        <p>点击或拖拽图片到这里</p>
                        <button class="btn primary" onclick="document.getElementById('fileInput').click()">
                            选择图片
                        </button>
                    </div>
                    <!-- 折叠后的控制区域 -->
                    <div class="control-area compact" id="controlArea">
                        <div class="control-group">
                            <button class="btn secondary" onclick="document.getElementById('fileInput').click()">
                                更换图片
                            </button>
                            <div class="quality-control">
                                <input type="range" id="qualitySlider" min="0" max="100" value="80" class="quality-slider">
                                <span class="quality-value" id="qualityValue">80%</span>
                            </div>
                            <button class="btn primary" id="compressBtn">开始压缩</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 预览卡片 -->
            <section class="card preview-card" id="previewCard">
                <div class="card-content">
                    <div class="preview-grid">
                        <!-- 原图预览 -->
                        <div class="preview-item">
                            <h3>原始图片</h3>
                            <div class="preview-image">
                                <img id="originalPreview" alt="原图预览">
                            </div>
                            <div class="image-info">
                                <span>大小: </span>
                                <span id="originalSize">0 KB</span>
                            </div>
                        </div>
                        <!-- 压缩后预览 -->
                        <div class="preview-item">
                            <h3>压缩效果</h3>
                            <div class="preview-image">
                                <img id="compressedPreview" alt="压缩后预览">
                            </div>
                            <div class="image-info">
                                <span>大小: </span>
                                <span id="compressedSize">0 KB</span>
                            </div>
                            <!-- 修改下载按钮的包装器 -->
                            <div class="download-btn-wrapper">
                                <button class="btn primary download-btn" id="downloadBtn">下载压缩后的图片</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 加载提示 -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
        <p>正在压缩...</p>
    </div>

    <!-- 提示消息 -->
    <div class="toast" id="toast"></div>

    <script src="https://unpkg.com/browser-image-compression@2.0.0/dist/browser-image-compression.js"></script>
    <script src="app.js"></script>
</body>
</html> 